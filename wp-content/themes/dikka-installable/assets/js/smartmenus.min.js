/*
 * SmartMenus jQuery v0.9.5
 * http://www.smartmenus.org/
 * Copyright 2014 Vasil Dinkov, Vadikom Web Ltd.
 * http://vadikom.com/
 * Released under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
(function(e){function a(n){if(!u&&!n){var r=true,i=null;e(document).bind({"mousemove.smartmenus_mouse":function(n){var s={x:n.pageX,y:n.pageY,timeStamp:(new Date).getTime()};if(i){var u=Math.abs(i.x-s.x),a=Math.abs(i.y-s.y);if((u>0||a>0)&&u<=2&&a<=2&&s.timeStamp-i.timeStamp<=300){o=true;if(r){var f=e(n.target).closest("a");if(f.is("a")){e.each(t,function(){if(e.contains(this.$root[0],f[0])){this.itemEnter({currentTarget:f[0]});return false}})}r=false}}}i=s},"touchstart.smartmenus_mouse pointerover.smartmenus_mouse MSPointerOver.smartmenus_mouse":function(e){if(!/^(4|mouse)$/.test(e.originalEvent.pointerType)){o=false}}});u=true}else if(u&&n){e(document).unbind(".smartmenus_mouse");u=false}}var t=[],n=!!window.createPopup,r=n&&!document.defaultView,i=n&&!document.querySelector,s=n&&typeof document.documentElement.currentStyle.minWidth=="undefined",o=false,u=false;e.SmartMenus=function(t,n){this.$root=e(t);this.opts=n;this.rootId="";this.$subArrow=null;this.subMenus=[];this.activatedItems=[];this.visibleSubMenus=[];this.showTimeout=0;this.hideTimeout=0;this.scrollTimeout=0;this.clickActivated=false;this.zIndexInc=0;this.$firstLink=null;this.$firstSub=null;this.disabled=false;this.$disableOverlay=null;this.init()};e.extend(e.SmartMenus,{hideAll:function(){e.each(t,function(){this.menuHideAll()})},destroy:function(){while(t.length){t[0].destroy()}a(true)},prototype:{init:function(n){var r=this;if(!n){t.push(this);this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,"");if(this.$root.hasClass("sm-rtl")){this.opts.rightToLeftSubMenus=true}this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind({"mouseover.smartmenus focusin.smartmenus":e.proxy(this.rootOver,this),"mouseout.smartmenus focusout.smartmenus":e.proxy(this.rootOut,this)}).delegate("a",{"mouseenter.smartmenus":e.proxy(this.itemEnter,this),"mouseleave.smartmenus":e.proxy(this.itemLeave,this),"mousedown.smartmenus":e.proxy(this.itemDown,this),"focus.smartmenus":e.proxy(this.itemFocus,this),"blur.smartmenus":e.proxy(this.itemBlur,this),"click.smartmenus":e.proxy(this.itemClick,this),"touchend.smartmenus":e.proxy(this.itemTouchEnd,this)});var i=".smartmenus"+this.rootId;if(this.opts.hideOnClick){e(document).bind("touchstart"+i,e.proxy(this.docTouchStart,this)).bind("touchmove"+i,e.proxy(this.docTouchMove,this)).bind("touchend"+i,e.proxy(this.docTouchEnd,this)).bind("click"+i,e.proxy(this.docClick,this))}e(window).bind("resize"+i+" orientationchange"+i,e.proxy(this.winResize,this));if(this.opts.subIndicators){this.$subArrow=e("<span/>").addClass("sub-arrow");if(this.opts.subIndicatorsText){this.$subArrow.html(this.opts.subIndicatorsText)}}a()}this.$firstSub=this.$root.find("ul").each(function(){r.menuInit(e(this))}).eq(0);this.$firstLink=this.$root.find("a").eq(0);if(this.opts.markCurrentItem){var s=/(index|default)\.[^#\?\/]*/i,o=/#.*/,u=window.location.href.replace(s,""),f=u.replace(o,"");this.$root.find("a").each(function(){var t=this.href.replace(s,""),n=e(this);if(t==u||t==f){n.addClass("current");if(r.opts.markCurrentTree){n.parents("li").each(function(){var t=e(this);if(t.dataSM("sub")){t.children("a").addClass("current")}})}}})}},destroy:function(){this.menuHideAll();this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(".smartmenus").undelegate(".smartmenus");var n=".smartmenus"+this.rootId;e(document).unbind(n);e(window).unbind(n);if(this.opts.subIndicators){this.$subArrow=null}var r=this;e.each(this.subMenus,function(){if(this.hasClass("mega-menu")){this.find("ul").removeDataSM("in-mega")}if(this.dataSM("shown-before")){if(i){this.children().css({styleFloat:"",width:""})}if(r.opts.subMenusMinWidth||r.opts.subMenusMaxWidth){if(!s){this.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap")}else{this.css({width:"",overflowX:"",overflowY:""}).children().children("a").css("white-space","")}}if(this.dataSM("scroll-arrows")){this.dataSM("scroll-arrows").remove()}this.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})}if(r.opts.subIndicators){this.dataSM("parent-a").removeClass("has-submenu").children("span.sub-arrow").remove()}this.removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").parent().removeDataSM("sub")});if(this.opts.markCurrentItem){this.$root.find("a.current").removeClass("current")}this.$root=null;this.$firstLink=null;this.$firstSub=null;if(this.$disableOverlay){this.$disableOverlay.remove();this.$disableOverlay=null}t.splice(e.inArray(this,t),1)},disable:function(t){if(!this.disabled){this.menuHideAll();if(!t&&!this.opts.isPopup&&this.$root.is(":visible")){var n=this.$root.offset();this.$disableOverlay=e('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:n.top,left:n.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex()+1,opacity:0}).appendTo(document.body)}this.disabled=true}},docClick:function(t){if(this.visibleSubMenus.length&&!e.contains(this.$root[0],t.target)||e(t.target).is("a")){this.menuHideAll()}},docTouchEnd:function(t){if(!this.lastTouch){return}if(this.visibleSubMenus.length&&(this.lastTouch.x2===undefined||this.lastTouch.x1==this.lastTouch.x2)&&(this.lastTouch.y2===undefined||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!e.contains(this.$root[0],this.lastTouch.target))){if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}var n=this;this.hideTimeout=setTimeout(function(){n.menuHideAll()},350)}this.lastTouch=null},docTouchMove:function(e){if(!this.lastTouch){return}var t=e.originalEvent.touches[0];this.lastTouch.x2=t.pageX;this.lastTouch.y2=t.pageY},docTouchStart:function(e){var t=e.originalEvent.touches[0];this.lastTouch={x1:t.pageX,y1:t.pageY,target:t.target}},enable:function(){if(this.disabled){if(this.$disableOverlay){this.$disableOverlay.remove();this.$disableOverlay=null}this.disabled=false}},getHeight:function(e){return this.getOffset(e,true)},getOffset:function(e,t){var n;if(e.css("display")=="none"){n={position:e[0].style.position,visibility:e[0].style.visibility};e.css({position:"absolute",visibility:"hidden"}).show()}var r=e[0].ownerDocument.defaultView,i=r&&r.getComputedStyle&&r.getComputedStyle(e[0],null),s=i&&parseFloat(i[t?"height":"width"]);if(s){s+=parseFloat(i[t?"paddingTop":"paddingLeft"])+parseFloat(i[t?"paddingBottom":"paddingRight"])+parseInt(i[t?"borderTopWidth":"borderLeftWidth"])+parseInt(i[t?"borderBottomWidth":"borderRightWidth"])}else{s=t?e[0].offsetHeight:e[0].offsetWidth}if(n){e.hide().css(n)}return s},getWidth:function(e){return this.getOffset(e)},getStartZIndex:function(){var e=parseInt(this.$root.css("z-index"));return!isNaN(e)?e:1},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(e){return this.handleEvents()&&!this.isLinkInMegaMenu(e)},isCollapsible:function(){return this.$firstSub.css("position")=="static"},isCSSOn:function(){return this.$firstLink.css("display")=="block"},isFixed:function(){return this.$root.css("position")=="fixed"},isLinkInMegaMenu:function(e){return!e.parent().parent().dataSM("level")},isTouchMode:function(){return!o||this.isCollapsible()},itemActivate:function(t){var n=t.parent(),r=n.parent(),i=r.dataSM("level");if(i>1&&(!this.activatedItems[i-2]||this.activatedItems[i-2][0]!=r.dataSM("parent-a")[0])){var s=this;e(r.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(r).each(function(){s.itemActivate(e(this).dataSM("parent-a"))})}if(this.visibleSubMenus.length>i){for(var o=this.visibleSubMenus.length-1,u=!this.activatedItems[i-1]||this.activatedItems[i-1][0]!=t[0]?i-1:i;o>u;o--){this.menuHide(this.visibleSubMenus[o])}}this.activatedItems[i-1]=t;this.visibleSubMenus[i-1]=r;if(this.$root.triggerHandler("activate.smapi",t[0])===false){return}var a=n.dataSM("sub");if(a&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)){this.menuShow(a)}},itemBlur:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}this.$root.triggerHandler("blur.smapi",n[0])},itemClick:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}n.removeDataSM("mousedown");if(this.$root.triggerHandler("click.smapi",n[0])===false){return false}var r=n.parent().dataSM("sub");if(this.isTouchMode()){if(n.dataSM("href")){n.attr("href",n.dataSM("href")).removeDataSM("href")}if(r&&(!r.dataSM("shown-before")||!r.is(":visible"))){this.itemActivate(n);if(r.is(":visible")){return false}}}else if(this.opts.showOnClick&&n.parent().parent().dataSM("level")==1&&r){this.clickActivated=true;this.menuShow(r);return false}if(n.hasClass("disabled")){return false}if(this.$root.triggerHandler("select.smapi",n[0])===false){return false}},itemDown:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}n.dataSM("mousedown",true)},itemEnter:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}if(!this.isTouchMode()){if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=0}var r=this;this.showTimeout=setTimeout(function(){r.itemActivate(n)},this.opts.showOnClick&&n.parent().parent().dataSM("level")==1?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",n[0])},itemFocus:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}if((!this.isTouchMode()||!n.dataSM("mousedown"))&&(!this.activatedItems.length||this.activatedItems[this.activatedItems.length-1][0]!=n[0])){this.itemActivate(n)}this.$root.triggerHandler("focus.smapi",n[0])},itemLeave:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}if(!this.isTouchMode()){if(n[0].blur){n[0].blur()}if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=0}}n.removeDataSM("mousedown");this.$root.triggerHandler("mouseleave.smapi",n[0])},itemTouchEnd:function(t){var n=e(t.currentTarget);if(!this.handleItemEvents(n)){return}var r=n.parent().dataSM("sub");if(n.attr("href").charAt(0)!=="#"&&r&&(!r.dataSM("shown-before")||!r.is(":visible"))){n.dataSM("href",n.attr("href"));n.attr("href","#")}},menuFixLayout:function(e){if(!e.dataSM("shown-before")){e.hide().dataSM("shown-before",true);if(i){e.children().css({styleFloat:"left",width:"100%"})}}},menuHide:function(e){if(this.$root.triggerHandler("beforehide.smapi",e[0])===false){return}e.stop(true,true);if(e.is(":visible")){var t=function(){if(r){e.parent().css("z-index","")}else{e.css("z-index","")}};if(this.isCollapsible()){if(this.opts.collapsibleHideFunction){this.opts.collapsibleHideFunction.call(this,e,t)}else{e.hide(this.opts.collapsibleHideDuration,t)}}else{if(this.opts.hideFunction){this.opts.hideFunction.call(this,e,t)}else{e.hide(this.opts.hideDuration,t)}}if(e.dataSM("ie-shim")){e.dataSM("ie-shim").remove()}if(e.dataSM("scroll")){e.unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()}e.dataSM("parent-a").removeClass("highlighted");var n=e.dataSM("level");this.activatedItems.splice(n-1,1);this.visibleSubMenus.splice(n-1,1);this.$root.triggerHandler("hide.smapi",e[0])}},menuHideAll:function(){if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=0}for(var e=this.visibleSubMenus.length-1;e>0;e--){this.menuHide(this.visibleSubMenus[e])}if(this.opts.isPopup){this.$root.stop(true,true);if(this.$root.is(":visible")){if(this.opts.hideFunction){this.opts.hideFunction.call(this,this.$root)}else{this.$root.hide(this.opts.hideDuration)}if(this.$root.dataSM("ie-shim")){this.$root.dataSM("ie-shim").remove()}}}this.activatedItems=[];this.visibleSubMenus=[];this.clickActivated=false;this.zIndexInc=0},menuIframeShim:function(t){if(n&&this.opts.overlapControlsInIE&&!t.dataSM("ie-shim")){t.dataSM("ie-shim",e("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))}},menuInit:function(e){if(!e.dataSM("in-mega")){this.subMenus.push(e);if(e.hasClass("mega-menu")){e.find("ul").dataSM("in-mega",true)}var t=2,n=e[0];while((n=n.parentNode.parentNode)!=this.$root[0]){t++}e.dataSM("parent-a",e.prevAll("a")).dataSM("level",t).parent().dataSM("sub",e);if(this.opts.subIndicators){e.dataSM("parent-a").addClass("has-submenu")[this.opts.subIndicatorsPos](this.$subArrow.clone())}}},menuPosition:function(t){var n=t.dataSM("parent-a"),r=t.parent().parent(),i=t.dataSM("level"),s=this.getWidth(t),u=this.getHeight(t),a=n.offset(),f=a.left,l=a.top,c=this.getWidth(n),h=this.getHeight(n),p=e(window),d=p.scrollLeft(),v=p.scrollTop(),m=p.width(),g=p.height(),y=r.hasClass("sm")&&!r.hasClass("sm-vertical"),b=i==2?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,w=i==2?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY,E,S;if(y){E=this.opts.rightToLeftSubMenus?c-s-b:b;S=this.opts.bottomToTopSubMenus?-u-b:h+w}else{E=this.opts.rightToLeftSubMenus?b-s:c-b;S=this.opts.bottomToTopSubMenus?h-w-u:w}if(this.opts.keepInViewport&&!this.isCollapsible()){if(this.isFixed()){f-=d;l-=v;d=v=0}var x=f+E,T=l+S;if(this.opts.rightToLeftSubMenus&&x<d){E=y?d-x+E:c-b}else if(!this.opts.rightToLeftSubMenus&&x+s>d+m){E=y?d+m-s-x+E:b-s}if(!y){if(u<g&&T+u>v+g){S+=v+g-u-T}else if(u>=g||T<v){S+=v-T}}if(o&&(y&&(T+u>v+g+.49||T<v)||!y&&u>g+.49)){var N=this;if(!t.dataSM("scroll-arrows")){t.dataSM("scroll-arrows",e([e('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],e('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){N.menuScroll(t,e(this).hasClass("scroll-up"))},mouseleave:function(e){N.menuScrollStop(t);N.menuScrollOut(t,e)},"mousewheel DOMMouseScroll":function(e){e.preventDefault()}}).insertAfter(t))}var C=v-(l+h);t.dataSM("scroll",{vportY:C,subH:u,winH:g,step:1}).bind({"mouseover.smartmenus_scroll":function(e){N.menuScrollOver(t,e)},"mouseout.smartmenus_scroll":function(e){N.menuScrollOut(t,e)},"mousewheel.smartmenus_scroll DOMMouseScroll.smartmenus_scroll":function(e){N.menuScrollMousewheel(t,e)}}).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:E+(parseInt(t.css("border-left-width"))||0),width:this.getWidth(t)-(parseInt(t.css("border-left-width"))||0)-(parseInt(t.css("border-right-width"))||0),zIndex:this.getStartZIndex()+this.zIndexInc}).eq(0).css("margin-top",C).end().eq(1).css("margin-top",C+g-this.getHeight(t.dataSM("scroll-arrows").eq(1))).end().eq(y&&this.opts.bottomToTopSubMenus?0:1).show()}}t.css({top:"auto",left:"0",marginLeft:E,marginTop:S-h});this.menuIframeShim(t);if(t.dataSM("ie-shim")){t.dataSM("ie-shim").css({zIndex:t.css("z-index"),width:s,height:u,marginLeft:E,marginTop:S-h})}},menuScroll:function(e,t,n){var r=parseFloat(e.css("margin-top")),i=e.dataSM("scroll"),s=i.vportY+(t?0:i.winH-i.subH),o=n||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(e.dataSM("scroll").step);e.add(e.dataSM("ie-shim")).css("margin-top",Math.abs(s-r)>o?r+(t?o:-o):s);r=parseFloat(e.css("margin-top"));if(t&&r+i.subH>i.vportY+i.winH||!t&&r<i.vportY){e.dataSM("scroll-arrows").eq(t?1:0).show()}if(!n&&this.opts.scrollAccelerate&&e.dataSM("scroll").step<this.opts.scrollStep){e.dataSM("scroll").step+=.5}if(Math.abs(r-s)<1){e.dataSM("scroll-arrows").eq(t?0:1).hide();e.dataSM("scroll").step=1}else if(!n){var u=this;this.scrollTimeout=setTimeout(function(){u.menuScroll(e,t)},this.opts.scrollInterval)}},menuScrollMousewheel:function(t,n){var r=e(n.target).closest("ul");while(r.dataSM("in-mega")){r=r.parent().closest("ul")}if(r[0]==t[0]){var i=(n.originalEvent.wheelDelta||-n.originalEvent.detail)>0;if(t.dataSM("scroll-arrows").eq(i?0:1).is(":visible")){this.menuScroll(t,i,true)}}n.preventDefault()},menuScrollOut:function(t,n){var r=/^scroll-(up|down)/,i=e(n.relatedTarget).closest("ul");while(i.dataSM("in-mega")){i=i.parent().closest("ul")}if(!r.test((n.relatedTarget||"").className)&&(t[0]!=n.relatedTarget&&!e.contains(t[0],n.relatedTarget)||i[0]!=t[0])){t.dataSM("scroll-arrows").css("visibility","hidden")}},menuScrollOver:function(t,n){var r=/^scroll-(up|down)/,i=e(n.target).closest("ul");while(i.dataSM("in-mega")){i=i.parent().closest("ul")}if(!r.test(n.target.className)&&i[0]==t[0]){t.dataSM("scroll-arrows").css("visibility","visible")}},menuScrollStop:function(e){if(this.scrollTimeout){clearTimeout(this.scrollTimeout);this.scrollTimeout=0;e.dataSM("scroll").step=1}},menuShow:function(e){if(!e.dataSM("beforefirstshowfired")){e.dataSM("beforefirstshowfired",true);if(this.$root.triggerHandler("beforefirstshow.smapi",e[0])===false){return}}if(this.$root.triggerHandler("beforeshow.smapi",e[0])===false){return}this.menuFixLayout(e);e.stop(true,true);if(!e.is(":visible")){var t=this.getStartZIndex()+ ++this.zIndexInc;if(r){e.parent().css("z-index",t)}else{e.css("z-index",t)}if(this.opts.keepHighlighted||this.isCollapsible()){e.dataSM("parent-a").addClass("highlighted")}if(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth){if(!i){e.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap");if(this.opts.subMenusMinWidth){e.css("min-width",this.opts.subMenusMinWidth)}if(this.opts.subMenusMaxWidth){var n=this.getWidth(e);e.css("max-width",this.opts.subMenusMaxWidth);if(n>this.getWidth(e)){e.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}}}else{e.children().css("styleFloat","none");if(s){e.width(this.opts.subMenusMinWidth?this.opts.subMenusMinWidth:1).children().children("a").css("white-space","nowrap")}else{e.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap");if(this.opts.subMenusMinWidth){e.css("min-width",this.opts.subMenusMinWidth)}}if(this.opts.subMenusMaxWidth){var n=e.width();if(s){var o=e.css({width:this.opts.subMenusMaxWidth,overflowX:"hidden",overflowY:"hidden"}).width();if(n>o){e.css({width:o,overflowX:"visible",overflowY:"visible"}).children().children("a").css("white-space","")}else{e.css({width:n,overflowX:"visible",overflowY:"visible"})}}else{e.css("max-width",this.opts.subMenusMaxWidth);if(n>e.width()){e.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}else{e.width(n)}}}else{e.width(e.width())}e.children().css("styleFloat","left")}}this.menuPosition(e);if(e.dataSM("ie-shim")){e.dataSM("ie-shim").insertBefore(e)}var u=function(){e.css("overflow","")};if(this.isCollapsible()){if(this.opts.collapsibleShowFunction){this.opts.collapsibleShowFunction.call(this,e,u)}else{e.show(this.opts.collapsibleShowDuration,u)}}else{if(this.opts.showFunction){this.opts.showFunction.call(this,e,u)}else{e.show(this.opts.showDuration,u)}}this.visibleSubMenus[e.dataSM("level")-1]=e;this.$root.triggerHandler("show.smapi",e[0])}},popupHide:function(e){if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},e?1:this.opts.hideTimeout)},popupShow:function(e,t){if(!this.opts.isPopup){alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.');return}if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}this.menuFixLayout(this.$root);this.$root.stop(true,true);if(!this.$root.is(":visible")){this.$root.css({left:e,top:t});this.menuIframeShim(this.$root);if(this.$root.dataSM("ie-shim")){this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:e,top:t}).insertBefore(this.$root)}if(this.opts.showFunction){this.opts.showFunction.call(this,this.$root)}else{this.$root.show(this.opts.showDuration)}this.visibleSubMenus[0]=this.$root}},refresh:function(){this.menuHideAll();this.$root.find("ul").each(function(){var t=e(this);if(t.dataSM("scroll-arrows")){t.dataSM("scroll-arrows").remove()}}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired");this.$root.find("a.has-submenu").removeClass("has-submenu").parent().removeDataSM("sub");if(this.opts.subIndicators){this.$root.find("span.sub-arrow").remove()}if(this.opts.markCurrentItem){this.$root.find("a.current").removeClass("current")}this.subMenus=[];this.init(true)},rootOut:function(e){if(!this.handleEvents()||this.isTouchMode()||e.target==this.$root[0]){return}if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}if(!this.opts.showOnClick||!this.opts.hideOnClick){var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(e){if(!this.handleEvents()||this.isTouchMode()||e.target==this.$root[0]){return}if(this.hideTimeout){clearTimeout(this.hideTimeout);this.hideTimeout=0}},winResize:function(e){if(!this.handleEvents()){if(this.$disableOverlay){var t=this.$root.offset();this.$disableOverlay.css({top:t.top,left:t.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}return}if(!this.isCollapsible()&&(!("onorientationchange"in window)||e.type=="orientationchange")){if(this.activatedItems.length){this.activatedItems[this.activatedItems.length-1][0].blur()}this.menuHideAll()}}}});e.fn.dataSM=function(e,t){if(t){return this.data(e+"_smartmenus",t)}return this.data(e+"_smartmenus")};e.fn.removeDataSM=function(e){return this.removeData(e+"_smartmenus")};e.fn.smartmenus=function(t){if(typeof t=="string"){var n=arguments,r=t;Array.prototype.shift.call(n);return this.each(function(){var t=e(this).data("smartmenus");if(t&&t[r]){t[r].apply(t,n)}})}var i=e.extend({},e.fn.smartmenus.defaults,t);return this.each(function(){new e.SmartMenus(this,i)})};e.fn.smartmenus.defaults={isPopup:false,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:true,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollInterval:30,scrollAccelerate:true,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(e,t){e.fadeOut(200,t)},collapsibleShowDuration:0,collapsibleShowFunction:function(e,t){e.slideDown(200,t)},collapsibleHideDuration:0,collapsibleHideFunction:function(e,t){e.slideUp(200,t)},showOnClick:false,hideOnClick:true,keepInViewport:true,keepHighlighted:true,markCurrentItem:false,markCurrentTree:true,rightToLeftSubMenus:false,bottomToTopSubMenus:false,overlapControlsInIE:true}})(jQuery);


/* SmartMenus jQuery Bootstrap Addon - v0.1.0 */
jQuery(function($){$("ul.navbar-nav").each(function(){var e=$(this);e.addClass("sm").smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-6,subIndicatorsPos:"append",subIndicatorsText:"",collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:e.hasClass("navbar-right"),bottomToTopSubMenus:e.closest(".navbar").hasClass("navbar-fixed-bottom")}).find("a.current").parent().addClass("active")}).bind({"show.smapi":function(e,t){var n=$(t),r=n.dataSM("scroll-arrows"),i=$(this).data("smartmenus");if(r){r.css("background-color",$(document.body).css("background-color"))}n.parent().addClass("open"+(i.isCollapsible()?" collapsible":""))},"hide.smapi":function(e,t){$(t).parent().removeClass("open collapsible")},"click.smapi":function(e,t){var n=$(this).data("smartmenus");if(n.isCollapsible()){var r=$(t),i=r.parent().dataSM("sub");if(i&&i.dataSM("shown-before")&&i.is(":visible")){n.itemActivate(r);n.menuHide(i);return false}}}});$.SmartMenus.prototype.isCollapsible=function(){return this.$firstLink.parent().css("float")!="left"}});